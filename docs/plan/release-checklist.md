# リリース前チェックリスト（ドラフト）

## 1. 事前準備
- 変更内容/影響範囲の把握（PR/Issue/リリースノート）
- DBバックアップの取得と復元手順の確認
- 必須環境変数の確認（PDF/メール/認証/外部連携）
- 監視/アラートの通知先確認

## 2. DB移行
- `prisma migrate deploy` の実行計画を確認
- 事前/事後のスキーマ差分とロールバック手順の確認
- 移行後の整合チェック（件数/合計）を実行

## 3. スモーク/回帰
- QA手順: `docs/requirements/qa-plan.md`
- フロントE2E: `scripts/e2e-frontend.sh`（証跡が不要なら `E2E_CAPTURE=0`）
- バックエンドスモーク: `scripts/smoke-backend.sh`

## 4. 監査/運用
- 監査ログの出力確認（検索/エクスポート）
- アラートの通知確認（メール/ダッシュボード）
- バックアップの定期実行設定を確認

## 5. ロールバック
- リリース前のバックアップからリストアできることを確認
- アプリ/DBをリリース前の状態に戻す手順を明記

## 6. 事後確認
- 主要画面の動作確認（ダッシュボード/工数/請求/承認/レポート）
- 重要ログの監視（エラー率/タイムアウト/遅延）
- 問題発生時の連絡/判断フロー確認
